{% extends "rough.html" %}

{% block body %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js" integrity="sha512-7U4rRB8aGAHGVad3u2jiC7GA5/1YhQcQjxKeaVms/bT66i3LVBMRcBI9KwABNWnxOSwulkuSXxZLGuyfvo7V1A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<div class="col-xs-10 col-sm-6 col-md-6 my-5">
    <div class="card card-style mb-2">
        <div class="card-body">
            <div class="chart-container" style="position: relative;">
                <canvas id="category_vs_expense"></canvas>
            </div>
        </div>
    </div>
</div>
{%block javascript %}

  
  <script>
    //  Chart.scaleService.updateScaleDefaults('linear', {
    //         ticks: {
    //             min: 0
    //         }
    // });
    let category_vs_expense_chart = new Chart(category_vs_expense, {
            type: 'pie',
            data: {
            labels: ['expense', 'income'],
                datasets: [{
                    label: "Category Vs Expenses",
                    data: [5000,7000],
                    backgroundColor: ['#5DA5DA ', '#FAA43A', '#60BD68',
                        '#B276B2', '#E16851', '#FB8267'],

                    borderWidth: 1,
                    hoverBorderColor: "black",
                    hoverBorderWidth: 2,
                    hoverBackgroundColor: 'rgba(154, 245, 140)',
                    pointHoverRadius: 5
                }],
            },
            options: {
                    title: {
                        display: true,
                            text: "Income Vs Expenses",
                                fontSize: 20,
                    },
                    legend: {
                        position: "right",
                            labels: {
                            fontColor: "gray"
                        },
                        display: true,
                    },

                    elements: {
                        hitRadius: 3,
                    }
            }
        })

  </script>
  
  <!-- <table class="table">
      <thead>
        <tr>
          
          <th scope="col">Sno</th>
          <th scope="col">Category</th>
          <th scope="col">Amount</th>
          <th scope="col">Description</th>
          <th scope="col">Date</th>
          <th scope="col">Edit</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>

          {% for tex in today_expenses %}    

        <tr>
          
          <td>{{tex.expense_id}}</td>
          <td>{{tex.category.name}}</td>
          <td>{{tex.amount}}</td>
          <td>{{tex.description}}</td>
          <td>{{tex.date}}</td>
          <td><a href="/edit/{{tex.expense_id}}"><button class="btn btn-primary text-uppercase">Edit</button></a></td>
          <td><a href="/delete_expense/{{tex.expense_id}}"><button class="btn btn-primary text-uppercase">Delete</button></a></td>
        </tr>
        
        {% endfor %}

      </tbody>
    </table> -->
  
{% endblock %}
    
{% endblock %}   
